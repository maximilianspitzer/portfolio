@tailwind base;
@tailwind components;
@tailwind utilities;

/* Monochrome Design System Variables - Dark Mode Only */
:root {
  --background: #000000;
  --foreground: #ffffff;
  --muted: #0a0a0a;
  --muted-foreground: #a3a3a3;
  --border: #262626;
  --accent: #171717;
  --accent-foreground: #ffffff;

  /* Responsive spacing scale with clamp() for mobile-first fluid scaling */
  --spacing-xs: clamp(0.5rem, 2vw, 1rem);
  --spacing-sm: clamp(1rem, 3vw, 1.5rem);
  --spacing-md: clamp(1.5rem, 4vw, 2rem);
  --spacing-lg: clamp(2rem, 5vw, 3rem);
  --spacing-xl: clamp(3rem, 6vw, 4rem);
  --spacing-2xl: clamp(4rem, 8vw, 6rem);

  /* Responsive typography scale with mobile-first fluid sizing */
  --text-xs: clamp(0.75rem, 2.5vw, 0.875rem);
  --text-sm: clamp(0.875rem, 3vw, 1rem);
  --text-base: clamp(1rem, 3.5vw, 1.125rem);
  --text-lg: clamp(1.125rem, 4vw, 1.25rem);
  --text-xl: clamp(1.25rem, 4.5vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 5vw, 2rem);
  --text-3xl: clamp(2rem, 6vw, 3rem);
  --text-4xl: clamp(2.5rem, 7vw, 4rem);

  /* Responsive container sizing */
  --container-padding: clamp(1rem, 4vw, 2rem);
  --container-max-width: min(1200px, 90vw);

  /* Touch-friendly interaction sizes */
  --touch-target-min: 44px;
  --touch-target-comfortable: 48px;
  --touch-spacing: 8px;
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Respect user's reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  /* Enhanced focus styles for accessibility with mobile optimization */
  *:focus {
    outline: 2px solid var(--foreground);
    outline-offset: 2px;
  }

  *:focus:not(:focus-visible) {
    outline: none;
  }

  *:focus-visible {
    outline: 2px solid var(--foreground);
    outline-offset: 2px;
  }

  /* Enhanced mobile focus styles for touch devices */
  @media (hover: none) and (pointer: coarse) {
    *:focus {
      outline-width: 3px;
      outline-offset: 3px;
    }

    *:focus-visible {
      outline-width: 3px;
      outline-offset: 3px;
    }
  }

  /* Skip to content link */
  .skip-to-content {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--foreground);
    color: var(--background);
    padding: 8px;
    border-radius: 4px;
    text-decoration: none;
    z-index: 1000;
    transition: top 0.3s;
  }

  .skip-to-content:focus {
    top: 6px;
  }
}

@layer utilities {
  .animate-fade-in {
    animation: fadeIn 0.8s ease-out;
  }

  .animate-fade-in-delay {
    animation: fadeIn 0.8s ease-out 0.2s both;
  }

  .animate-slide-up {
    animation: slideUp 0.8s ease-out 0.4s both;
  }

  .line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }

  /* Responsive container utilities */
  .container-responsive {
    width: 100%;
    max-width: var(--container-max-width);
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--container-padding);
    padding-right: var(--container-padding);
  }

  .section-spacing {
    padding-top: var(--spacing-lg);
    padding-bottom: var(--spacing-lg);
  }

  .component-spacing {
    padding: var(--spacing-md);
  }

  /* Touch-friendly interaction utilities */
  .touch-target {
    min-width: var(--touch-target-min);
    min-height: var(--touch-target-min);
    padding: var(--touch-spacing);
  }

  .touch-target-comfortable {
    min-width: var(--touch-target-comfortable);
    min-height: var(--touch-target-comfortable);
    padding: calc(var(--touch-spacing) + 2px);
  }

  /* Enhanced button focus states for mobile */
  .btn-focus {
    @apply focus:ring-2 focus:ring-foreground focus:ring-offset-2 focus:ring-offset-background;
  }

  /* Mobile-optimized button focus */
  @media (hover: none) and (pointer: coarse) {
    .btn-focus {
      @apply focus:ring-4 focus:ring-offset-4;
    }
  }

  /* Card hover states with reduced motion support */
  .card-hover {
    @apply transition-all duration-300;
  }

  /* Mobile-specific card interactions */
  @media (hover: none) and (pointer: coarse) {
    .card-hover {
      @apply active:scale-95 active:opacity-90;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .card-hover {
      @apply transition-none;
    }
  }

  /* Responsive typography utilities */
  .text-responsive-xs {
    font-size: var(--text-xs);
    line-height: 1.5;
  }
  .text-responsive-sm {
    font-size: var(--text-sm);
    line-height: 1.5;
  }
  .text-responsive-base {
    font-size: var(--text-base);
    line-height: 1.6;
  }
  .text-responsive-lg {
    font-size: var(--text-lg);
    line-height: 1.6;
  }
  .text-responsive-xl {
    font-size: var(--text-xl);
    line-height: 1.5;
  }
  .text-responsive-2xl {
    font-size: var(--text-2xl);
    line-height: 1.4;
  }
  .text-responsive-3xl {
    font-size: var(--text-3xl);
    line-height: 1.3;
  }
  .text-responsive-4xl {
    font-size: var(--text-4xl);
    line-height: 1.2;
  }

  /* Responsive spacing utilities */
  .space-responsive-xs {
    gap: var(--spacing-xs);
  }
  .space-responsive-sm {
    gap: var(--spacing-sm);
  }
  .space-responsive-md {
    gap: var(--spacing-md);
  }
  .space-responsive-lg {
    gap: var(--spacing-lg);
  }
  .space-responsive-xl {
    gap: var(--spacing-xl);
  }

  /* Mobile layout utilities */
  .mobile-stack {
    @apply flex flex-col space-y-4;
  }

  @screen sm {
    .mobile-stack {
      @apply flex-row space-y-0 space-x-4;
    }
  }

  /* Prevent horizontal scroll on mobile */
  .no-horizontal-scroll {
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* High contrast mode support - Dark Mode Only */
@media (prefers-contrast: high) {
  :root {
    --background: #000000;
    --foreground: #ffffff;
    --muted: #1a1a1a;
    --muted-foreground: #ffffff;
    --border: #ffffff;
    --accent: #1a1a1a;
    --accent-foreground: #ffffff;

    /* Enhanced touch targets for high contrast */
    --touch-target-min: 48px;
    --touch-target-comfortable: 52px;
    --touch-spacing: 12px;
  }
}
